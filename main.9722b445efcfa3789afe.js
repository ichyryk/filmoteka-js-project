(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0wUG":function(e,t){window.addEventListener("scroll",(function(e){var t=document.getElementById("gototop"),n=scrollY;t.style.display=n>200?"block":"none"}))},JNau:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,l){var o,r,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c="function",d=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="card">\r\n    <img src="https://image.tmdb.org/t/p/w500'+d(typeof(r=null!=(r=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?r:s)===c?r.call(i,{name:"poster_path",hash:{},data:l,loc:{start:{line:3,column:45},end:{line:3,column:60}}}):r)+'" alt="'+d(typeof(r=null!=(r=u(n,"title")||(null!=t?u(t,"title"):t))?r:s)===c?r.call(i,{name:"title",hash:{},data:l,loc:{start:{line:3,column:67},end:{line:3,column:76}}}):r)+'" data-id="'+d(typeof(r=null!=(r=u(n,"id")||(null!=t?u(t,"id"):t))?r:s)===c?r.call(i,{name:"id",hash:{},data:l,loc:{start:{line:3,column:87},end:{line:3,column:93}}}):r)+'"\r\n        data-genres='+d(typeof(r=null!=(r=u(n,"genresNames")||(null!=t?u(t,"genresNames"):t))?r:s)===c?r.call(i,{name:"genresNames",hash:{},data:l,loc:{start:{line:4,column:20},end:{line:4,column:35}}}):r)+" data-year="+d(typeof(r=null!=(r=u(n,"year")||(null!=t?u(t,"year"):t))?r:s)===c?r.call(i,{name:"year",hash:{},data:l,loc:{start:{line:4,column:46},end:{line:4,column:54}}}):r)+" data-rating="+d(typeof(r=null!=(r=u(n,"rating")||(null!=t?u(t,"rating"):t))?r:s)===c?r.call(i,{name:"rating",hash:{},data:l,loc:{start:{line:4,column:67},end:{line:4,column:77}}}):r)+" data-poster="+d(typeof(r=null!=(r=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?r:s)===c?r.call(i,{name:"poster_path",hash:{},data:l,loc:{start:{line:4,column:90},end:{line:4,column:105}}}):r)+'>\r\n    <div class="card__text-content">\r\n        <h1 class="films__title">'+d(typeof(r=null!=(r=u(n,"title")||(null!=t?u(t,"title"):t))?r:s)===c?r.call(i,{name:"title",hash:{},data:l,loc:{start:{line:6,column:33},end:{line:6,column:42}}}):r)+'</h1>\r\n        <p class="films__paragraph">\r\n            '+(null!=(o=u(n,"each").call(i,null!=t?u(t,"genresNames"):t,{name:"each",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:8,column:12},end:{line:8,column:52}}}))?o:"")+' | <span class="year">'+d(typeof(r=null!=(r=u(n,"year")||(null!=t?u(t,"year"):t))?r:s)===c?r.call(i,{name:"year",hash:{},data:l,loc:{start:{line:8,column:74},end:{line:8,column:82}}}):r)+'</span>\r\n            <span class="films__rating rating-position">'+d(typeof(r=null!=(r=u(n,"rating")||(null!=t?u(t,"rating"):t))?r:s)===c?r.call(i,{name:"rating",hash:{},data:l,loc:{start:{line:9,column:56},end:{line:9,column:66}}}):r)+"</span>\r\n        </p>\r\n    </div>\r\n</li>\r\n"},2:function(e,t,n,a,l){return e.escapeExpression(e.lambda(t,t))+" "},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,l){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:13,column:9}}}))?o:""},useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("yjly"),n("JBxO"),n("FdtR"),n("QDHd");var a,l=n("s9S4"),o=n.n(l),r=((a={filmsList:document.querySelector("#films-section"),dataContainer:document.querySelector("#dataContainer"),backdropClick:document.querySelector(".backdrop"),openModal:document.querySelector(".films"),body:document.querySelector("body"),closeModalBtn:document.querySelector(".button-close"),spinnerInModal:document.querySelector(".spinnerInModal"),searchForm:document.querySelector("#search-form"),spinner:document.querySelector(".spinner")}).dataContainer=document.querySelector("#dataContainer"),a.home=document.querySelector("#home"),a.myLibrary=document.querySelector("#library"),a.homepage=document.querySelector(".nav__homePage"),a.libraryPage=document.querySelector(".header__buttons"),a.logo=document.querySelector("#logo"),a.header=document.querySelector(".header"),a.error=document.querySelector(".nav__error"),a.queue=document.querySelector("#queue"),a.watched=document.querySelector("#watched"),a.modal=document.querySelector(".modal"),a.paginator=document.querySelector("#pagination-container"),a.notification=document.querySelector(".notification"),a.theme=document.querySelector(".theme-switch__title"),a.remove=document.querySelector("#remove"),a),i="https://api.themoviedb.org/3/",s="8e2d6c50ec8673fce37d0988f16fea97",c={searchQuery:"batman",_movieId:321528,fetchTrendingMovies:function(){return fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=8e2d6c50ec8673fce37d0988f16fea97&per_page=12").then((function(e){if(e.ok)return e.json();throw new Error("Error Fetching data")})).then((function(e){return e.results})).catch((function(e){console.log(e)}))},searchMovies:function(){return fetch("https://api.themoviedb.org/3/search/movie/?api_key=8e2d6c50ec8673fce37d0988f16fea97&query="+this.query).then((function(e){if(e.ok)return e.json();throw new Error("Error Fetching data")})).then((function(e){return e.results})).catch((function(e){console.log(e)}))},getFullInfo:function(){return fetch(i+"movie/"+this.movieId+"?api_key="+s).then((function(e){if(e.ok)return e.json();throw new Error("Error Fetching data")})).catch((function(e){console.log(e)}))},get query(){return this.searchQuery},set query(e){this.searchQuery=e},get movieId(){return this._movieId},set movieId(e){this._movieId=e}},d=(n("Xlt+"),n("DQsX"),n("Muwe"),n("aZFp"),n("JNau")),u=n.n(d);function m(e){var t=u()(e);r.filmsList.insertAdjacentHTML("beforeend",t)}function h(){r.filmsList.innerHTML=""}function p(){r.spinner.classList.remove("spinner-is-hidden")}function v(){r.spinner.classList.add("spinner-is-hidden")}n("lmye"),n("WB5j"),n("uXbS"),n("hi3g"),n("IlJM"),n("D/wG");var y=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];var f=function(e){var t=e.map((function(e){return y.find((function(t){return t.id===e}))}));return t=[].concat(t.map((function(e){return e.name})))};var g=function(e){var t=e.map((function(e){var t=e.title,n=e.id,a=e.poster_path,l=e.genre_ids,o=e.release_date,r=e.vote_average,i=o?o.slice(0,4):null,s=String(r).padEnd(3,".0");return{id:n,poster_path:a,genresNames:f(l),year:i,rating:s,title:t}}));return 0===t.length?void r.error.classList.remove("visually-hidden"):t},_={paginationTrendingMovies:function(){$("#pagination-container").pagination({dataSource:"https://api.themoviedb.org/3/trending/movie/day?api_key=8e2d6c50ec8673fce37d0988f16fea97&per_page=12",locator:"results",prevText:"&#8592;",nextText:"&#8594;",pageSize:20,alias:{pageNumber:"page"},totalNumberLocator:function(e){return e.total_results},hideWhenLessThanOnePage:!0,ajax:{beforeSend:function(){h(),p()}},callback:function(e,t){var n=g(e);v(),m(n)}})},paginationSearchMovies:function(e){$("#pagination-container").pagination({dataSource:"https://api.themoviedb.org/3/search/movie/?api_key=8e2d6c50ec8673fce37d0988f16fea97&query="+e,locator:"results",prevText:"&#8592;",nextText:"&#8594;",pageSize:20,alias:{pageNumber:"page"},totalNumberLocator:function(e){return e.total_results},hideWhenLessThanOnePage:!0,ajax:{beforeSend:function(){h(),p()}},callback:function(e,t){var n=g(e);void 0===n&&_.paginationTrendingMovies(),v(),m(n)}})}};function b(e){r.libraryPage.classList.add("visually-hidden"),r.homepage.classList.remove("visually-hidden"),r.home.classList.add("current"),r.myLibrary.classList.remove("current"),r.error.classList.add("visually-hidden"),r.filmsList.innerHTML="",_.paginationTrendingMovies(),r.watched.removeEventListener("click",L),r.queue.removeEventListener("click",w),r.header.classList.remove("library"),r.paginator.classList.remove("visually-hidden"),r.notification.classList.add("visually-hidden")}function L(e){r.watched.classList.add("button--watched"),r.queue.classList.remove("button--watched"),S("watched")}function w(e){r.queue.classList.add("button--watched"),r.watched.classList.remove("button--watched"),S("queue")}function S(e){if(null===localStorage.getItem(""+e))return r.filmsList.innerHTML="",void r.notification.classList.remove("visually-hidden");r.filmsList.innerHTML="",r.notification.classList.add("visually-hidden"),function(e){for(var t=0;t<e.length;t+=1)e[t].genresNames=e[t].genresNames.split(",");var n=u()(e);r.filmsList.insertAdjacentHTML("beforeend",n)}(JSON.parse(localStorage.getItem(""+e)))}function q(e,t){for(var n=r.modal.querySelector("#add-to-"+t),a=JSON.parse(localStorage.getItem(t))||[],l=0;l<a.length;l+=1)if(a[l].title===e.title)return void(n.textContent="was added");a.push(e),n.textContent="Added to "+t,localStorage.setItem(t,JSON.stringify(a))}function k(e,t){for(var n=r.modal.querySelector("#remove"),a=JSON.parse(localStorage.getItem(t))||[],l=0;l<a.length;l+=1)if(a[l].title===e.title)return a.splice(l,1),localStorage.setItem(t,JSON.stringify(a)),n.textContent="removed",void(0===a.length&&localStorage.removeItem(t));n.textContent="Please add film to "+t,n.classList.add("visually-hidden");var o=r.modal.querySelector("#add-to-"+t);o.closest(".button__modal__container").classList.remove("visually-hidden"),o.classList.remove("visually-hidden")}window.onload=function(){r.libraryPage.classList.add("visually-hidden"),r.home.classList.add("current"),r.error.classList.add("visually-hidden"),_.paginationTrendingMovies(),r.notification.classList.add("visually-hidden")},r.myLibrary.addEventListener("click",(function(e){r.homepage.classList.add("visually-hidden"),r.libraryPage.classList.remove("visually-hidden"),r.header.classList.add("library"),r.myLibrary.classList.add("current"),r.home.classList.remove("current"),r.filmsList.innerHTML="",L(),r.watched.addEventListener("click",L),r.queue.addEventListener("click",w),r.paginator.classList.add("visually-hidden")})),r.home.addEventListener("click",b),r.logo.addEventListener("click",b);var M=function(e){r.modal.querySelector("#add-to-watched").addEventListener("click",(function(){q(e,"watched")})),r.modal.querySelector("#add-to-queue").addEventListener("click",(function(){q(e,"queue")})),r.modal.querySelector("#remove").addEventListener("click",(function(){"header library"===r.header.className&&("button button--watched"===r.watched.className?(k(e,"watched"),L()):"button button--watched"===r.queue.className&&(k(e,"queue"),w()))}))};function x(){r.body.classList.remove("show-modal"),document.querySelector("html").style.overflowY="scroll",r.modal.innerHTML="",window.removeEventListener("keydown",E)}function E(e){"Escape"===e.code&&x()}function N(e){var t,n,a,l=o()(e);r.modal.insertAdjacentHTML("beforeend",l),t=r.modal.querySelector("#add-to-watched"),n=r.modal.querySelector("#add-to-queue"),a=r.modal.querySelector("#remove"),"header"===r.header.className?(t.classList.remove("visually-hidden"),n.classList.remove("visually-hidden"),a.classList.add("visually-hidden"),"visually-hidden"===a.className&&a.closest(".button__modal__container").classList.add("visually-hidden")):"header library"===r.header.className&&(a.classList.remove("visually-hidden"),"button button--watched"===r.watched.className?(t.classList.add("visually-hidden"),n.classList.remove("visually-hidden"),"button button--watched visually-hidden"===t.className&&(t.closest(".button__modal__container").classList.add("visually-hidden"),a.style.marginLeft="15px")):"button button--watched"===r.queue.className&&(t.classList.remove("visually-hidden"),n.classList.add("visually-hidden"),"button button--modal visually-hidden"===n.className&&n.closest(".button__modal__container").classList.add("visually-hidden")))}r.openModal.addEventListener("click",(function(e){r.spinnerInModal.classList.remove("spinner-is-hidden");var t=e.target,n={title:t.alt,id:t.dataset.id,poster_path:t.dataset.poster,genresNames:t.dataset.genres,year:t.dataset.year,rating:t.dataset.rating};if("IMG"!==e.target.nodeName)return;e.target.style.PointerEvent="none",c.movieId=e.target.dataset.id,r.body.classList.add("show-modal"),document.querySelector("html").style.overflow="hidden",c.getFullInfo().then(N).then((function(){M(n)})).catch((function(e){return e})).finally((function(){r.spinnerInModal.classList.add("spinner-is-hidden")})),window.addEventListener("keydown",E)})),r.closeModalBtn.addEventListener("click",x),r.backdropClick.addEventListener("click",(function(e){e.target===e.currentTarget&&x()}));var I="light-theme",T="dark-theme",C=document.querySelector("#theme-switch-toggle"),j=localStorage.getItem("theme"),P=function(){localStorage.setItem("theme",I),document.body.classList.remove(T),document.body.classList.add(I),r.theme.textContent="light theme"},O=function(){localStorage.setItem("theme",T),document.body.classList.remove(I),document.body.classList.add(T),r.theme.textContent="dark theme"};C.addEventListener("change",(function(){document.body.className===I?O():P()})),null===j||j===I?P():"dark-theme"===j&&(O(),C.setAttribute("checked",!0));n("0wUG"),n("SgDD");r.searchForm.addEventListener("submit",(function(e){e.preventDefault();var t=e.currentTarget,n=t.elements.query.value;n.trim()?(r.error.classList.add("visually-hidden"),r.filmsList.innerHTML="",_.paginationSearchMovies(n),t.reset()):r.error.classList.remove("visually-hidden")}));var D,F=n("yIDU");D=n.n(F)()(),r.body.insertAdjacentHTML("beforeend",D)},s9S4:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,l){var o,r=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                    <li class="modal__item-details">'+e.escapeExpression("function"==typeof(o=null!=(o=r(n,"name")||(null!=t?r(t,"name"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:l,loc:{start:{line:24,column:52},end:{line:24,column:60}}}):o)+"</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,l){var o,r,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c="function",d=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <img class="modal__poster" src="https://image.tmdb.org/t/p/w500'+d(typeof(r=null!=(r=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?r:s)===c?r.call(i,{name:"poster_path",hash:{},data:l,loc:{start:{line:1,column:67},end:{line:1,column:82}}}):r)+'" alt="poster" />\r\n    <div class="modal__text">\r\n        <h2 class="modal__title">'+d(typeof(r=null!=(r=u(n,"title")||(null!=t?u(t,"title"):t))?r:s)===c?r.call(i,{name:"title",hash:{},data:l,loc:{start:{line:3,column:33},end:{line:3,column:42}}}):r)+'</h2>\r\n        <ul class="modal__list">\r\n            <li class="modal__item">\r\n                <p class="modal__item-features">Vote / Votes</p>\r\n                <p class="modal__item-details">\r\n                    <span class="modal__item-vote">'+d(typeof(r=null!=(r=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?r:s)===c?r.call(i,{name:"vote_average",hash:{},data:l,loc:{start:{line:8,column:51},end:{line:8,column:67}}}):r)+'</span> /\r\n                    <span class="modal__item-votes">'+d(typeof(r=null!=(r=u(n,"vote_count")||(null!=t?u(t,"vote_count"):t))?r:s)===c?r.call(i,{name:"vote_count",hash:{},data:l,loc:{start:{line:9,column:52},end:{line:9,column:66}}}):r)+'</span>\r\n                </p>\r\n            </li>\r\n            <li class="modal__item">\r\n                <p class="modal__item-features">Popularity</p>\r\n                <p class="modal__item-details">'+d(typeof(r=null!=(r=u(n,"popularity")||(null!=t?u(t,"popularity"):t))?r:s)===c?r.call(i,{name:"popularity",hash:{},data:l,loc:{start:{line:14,column:47},end:{line:14,column:61}}}):r)+'</p>\r\n            </li>\r\n            <li class="modal__item">\r\n                <p class="modal__item-features">Original Title</p>\r\n                <p class="modal__item-details">'+d(typeof(r=null!=(r=u(n,"original_title")||(null!=t?u(t,"original_title"):t))?r:s)===c?r.call(i,{name:"original_title",hash:{},data:l,loc:{start:{line:18,column:47},end:{line:18,column:65}}}):r)+'</p>\r\n            </li>\r\n            <li class="modal__item">\r\n                <p class="modal__item-features">Genre</p>\r\n                <ul>\r\n'+(null!=(o=u(n,"each").call(i,null!=t?u(t,"genres"):t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:23,column:20},end:{line:25,column:29}}}))?o:"")+'                </ul>\r\n            </li>\r\n        </ul>\r\n        <h3 class="modal__description-title">about</h3>\r\n        <p class="modal__description-text">'+d(typeof(r=null!=(r=u(n,"overview")||(null!=t?u(t,"overview"):t))?r:s)===c?r.call(i,{name:"overview",hash:{},data:l,loc:{start:{line:30,column:43},end:{line:30,column:55}}}):r)+'</p>\r\n        <div class="button-container">\r\n            <div class="button__modal__container">\r\n                <button class="button button--watched" id="add-to-watched" type="button">\r\n                    add to watched\r\n                </button>\r\n            </div>\r\n            <div class="button__modal__container">\r\n                <button class="button button--modal" id="add-to-queue" type="button">add to queue</button>\r\n            </div>\r\n            <div class="button__modal__container">\r\n                <button class="button button--watched" id="remove" type="button">\r\n                    remove\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>'},useData:!0})},yIDU:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,l){return'<footer class="footer">\r\n    <div class="footer__container">\r\n        <span class="footer__copy">\r\n            ©  2021 | All Rights Reserved |\r\n        </span> \r\n        <span class="footer__developed">\r\n            Developed with \r\n            <span class="footer__heard">\r\n                <svg view-box="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7 13.188l-.98-.97C2.38 9.03 0 6.88 0 4.248 0 2.097 1.68.435 3.85.435 5.04.436 6.23.99 7 1.89A4.224 4.224 0 0110.15.436C12.32.436 14 2.099 14 4.247c0 2.634-2.38 4.783-6.02 7.97l-.98.971z" fill="#FF6B08"/></svg>\r\n            </span>\r\n            by \r\n            <a href="#" class="footer__link">GoIT Students</a>\r\n        </span>\r\n    </div> \r\n</footer>'},useData:!0})},yjly:function(e,t,n){}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.9722b445efcfa3789afe.js.map